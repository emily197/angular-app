<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
 <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">

</head>
<body>


	<div class="content-wrapper">
		<div class="row">
			<div class="col-md-12">





          <div class="row">
            <div class="col-md-12 grid-margin stretch-card">
              <div class="card">
                <div class="card-body">
                  <h4 class="card-title">Horas extras</h4>
                  <hr>
                  <div class="table-responsive">
                    <table class="table table-hover">
                      <thead>
                        <tr>
                          <th>User</th>
                          <th>Nombre</th>
                          <th>H. Entrada</th>
                          <th>H. Salida</th>
                          <th></th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr v-for="(employee, index) in employees" >
                          <td class="py-3 d-flex justify-content-start" style="border-top: 0px solid #fff"><!--border-top: 0px solid #CED4DA; d-flex align-items-start-->
                            <div class="profile">
                              <img v-bind:src="'images/faces/face_'+(employee.genero) + '.png'" alt="imagen">
                              <template v-if="employee.semaforo==1">
                                <span class="online"></span>
                              </template>
                              <template v-if="employee.semaforo==2">
                                <span class="ampliacion"></span>
                              </template>
                              <template v-if="employee.semaforo==3">
                                <span class="notificado"></span>
                              </template>
                            </div>

                          </td>
                          <td>
                            <div class="info">
                              <p style="margin-bottom: 0.3rem;">{{ employee.name }}</p>
                              <span style="font-size: 12px;">{{  employee.areas.name }}</span>
                            </div>
                          </td>
                          <td>{{  employee.new_start }} <template v-if="employee.new_start!==employee.start_job"><i class="ti-arrow-up"></i></template></td>
                          <td>{{  employee.new_end }} <template v-if="employee.new_end!==employee.end_job"><i class="ti-arrow-up"></i></template></td>
                          <td>
                            <a @click="viewEmployee(employee)" class="rounded-circle btn btn-primary">
                              <span class="ti-time"></span>
                            </a>
                          </td>
                        </tr>

                      </tbody>
                    </table>
                  </div>
                </div>
              </div>




            </div>
          </div>



          <div class="card">
            <div class="card-body">
              <div class="d-flex justify-content-end">
                <button class="badge badge-light" @click="close()" style="background-color:#a4a8ab;">Cerrar</button>
              </div>
              <h4 class="card-title">Asignar horas extras</h4>
              <hr>

              <div class="media">
                <img class="d-flex align-self-start mr-1" v-bind:src="'images/faces/face_'+(img) + '.png'" alt="Generic placeholder image">
                <div class="media-body">
                  <h5 class="mt-0">{{ name }}</h5>
                  <h6>{{  area.name  }}</h6>
                  <ul>
                    <li>Entrada: {{ new_start_job }}<template v-if="new_start_job!==start_job"><button type="button" class="btn btn-link" @click="viewInTime()"><i class="ti-pencil-alt"></i></button></template></li>
                    <li>Salida: {{ new_end_job }} <template v-if="new_end_job!==end_job"><button type="button" class="btn btn-link" @click="viewOutTime()"><i class="ti-pencil-alt"></i></button></template></li>
                  </ul>
                </div>
              </div>
              <hr>
              <div class="alert alert-info" role="alert">
                <strong>Recuerde </strong> que si el colaborador ya tiene tiempo extra asignado, entonces el tiempo que ingrese se acumular√°.
              </div>
              <div class="form-group row">
                <label class="col-sm-3 col-form-label">Tipo</label>
                <div class="col-sm-4">
                  <div class="form-check">
                    <label class="form-check-label">
                    <input type="radio" class="form-check-input" id="membershipRadios1" value="IN"  v-model="type">Entrada<i class="input-helper"></i></label>
                  </div>
                </div>
                <div class="col-sm-5">
                  <div class="form-check">
                    <label class="form-check-label">
                    <input type="radio" class="form-check-input" id="membershipRadios2" value="OUT" v-model="type">Salida<i class="input-helper"></i></label>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <label for="exampleFormControlSelect3">Cant. Horas</label>
                <div class="input-group mb-2 mr-sm-2">
                    <div class="col-md-4">
                      <select class="form-control form-control-sm" v-model="hour">
                        <option value="0" selected>0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                      </select>
                    </div>:
                    <div class="col-md-4">
                      <input type="number" class="form-control form-control-sm" v-model="minute" >
                    </div>

                  <!--input type="time" class="form-control form-control-sm" v-model="quantity"-->
                </div>
              </div>
              <button type="button" class="btn btn-primary mr-2" @click="saveTimeExtra()">Guardar</button>
              <button class="btn btn-light" @click="close()">Cerrar</button>
            </div>
          </div>

          <div class="card">
            <div class="card">
              <div class="card-body">
                <div class="d-flex justify-content-end">
                  <button class="badge badge-light" @click="close()" style="background-color:#a4a8ab;">Retroceder</button>
                </div>
                <h4 class="card-title">Editar tiempo extra de entrada</h4>
                <hr>
                <div class="media">
                  <img class="d-flex align-self-start mr-1" v-bind:src="'images/faces/face_'+(img) + '.png'" alt="Generic placeholder image">
                  <div class="media-body">
                    <div class="alert alert-info alert-dismissible fade show" role="alert">
                      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                      </button>
                      <strong>Recuerde </strong> puede editar el tiempo ingresado y simular el nuevo tiempo de entrada.
                    </div>
                    <h5 class="mt-0">{{ name }}</h5>
                    <span>{{  area.name  }}</span>
                    <h6 class="mt-3">Entrada</h6>
                    <div class="row ml-2">
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="formGroupExampleInput">Nueva entrada</label>
                          <input type="time" class="form-control" v-model="new_start_job" disabled>
                        </div>
                      </div>
                      <div class="col-md-5">
                        <div class="form-group">
                          <label for="formGroupExampleInput">Tiempo extra</label>
                          <div class="row">
                            <div class="col-md-6">
                              <select class="form-control form-control-sm" v-model="hour">
                                <option value="0" selected>0</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                              </select>
                            </div>
                            <div class="col-md-6">
                              <input type="number" class="form-control form-control-sm" v-model="minute" >
                            </div>
                          </div>




                          <!--input type="time" class="form-control" v-model="quantity_total"-->
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="formGroupExampleInput">Entrada</label>
                          <input type="time" class="form-control" v-model="start_job" disabled>
                        </div>
                      </div>
                      <div class="col-md-1">
                        <div class="form-group">
                          <br>
                          <button type="button" class="btn btn-outline-secondary btn-rounded btn-icon" @click="calcularNewTimeIn()">
                            <i class="ti-reload text-success"></i>
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <hr>
                <button type="button" class="btn btn-primary mr-2" @click="editTime()">Guardar</button>
                <button class="btn btn-light" @click="close()">Cerrar</button>
              </div>
            </div>
          </div>

          <div class="card">
            <div class="card">
              <div class="card-body">
                <div class="d-flex justify-content-end">
                  <button class="badge badge-light" @click="close()" style="background-color:#a4a8ab;">Retroceder</button>
                </div>
                <h4 class="card-title">Editar tiempo extra de salida</h4>


                <hr>
                <div class="media">
                  <img class="d-flex align-self-start mr-1" v-bind:src="'images/faces/face_'+(img) + '.png'" alt="Generic placeholder image">
                  <div class="media-body">
                    <div class="alert alert-info alert-dismissible fade show" role="alert">
                      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                      </button>
                      <strong>Recuerde </strong> puede editar el tiempo ingresado y simular el nuevo tiempo de salida.
                    </div>
                    <h5 class="mt-0">{{ name }}</h5>
                    <span>{{  area.name  }}</span>
                    <h6 class="mt-3">Salida</h6>
                    <div class="row ml-2">
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="formGroupExampleInput">Salida</label><br>
                          <input type="time" class="form-control" v-model="end_job" disabled>
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="formGroupExampleInput">Tiempo extra</label>
                          <div class="row">
                            <div class="col-md-6">
                              <select class="form-control form-control-sm" v-model="hour">
                                <option value="0" selected>0</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                              </select>
                            </div>
                            <div class="col-md-6">
                              <input type="number" class="form-control form-control-sm" v-model="minute" >
                            </div>
                          </div>
                          <!--input type="time" class="form-control" v-model="quantity_total"-->
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="formGroupExampleInput">Nueva Salida</label>
                          <input type="time" class="form-control" v-model="new_end_job" disabled>
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-group">
                          <br>
                          <button type="button" class="btn btn-outline-secondary btn-rounded btn-icon" @click="calcularNewTimeOut()">
                            <i class="ti-reload text-success"></i>
                          </button>
                        </div>
                      </div>

                    </div>
                  </div>
                </div>
                <hr>
                <button type="button" class="btn btn-primary mr-2" @click="editTime()">Guardar</button>
                <button class="btn btn-light" @click="close()">Cerrar</button>

              </div>
            </div>
          </div>

			</div>
		</div>
	</div>



</body>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.min.js" integrity="sha384-RuyvpeZCxMJCqVUGFI0Do1mQrods/hhxYlcVfGPOfQtPJh0JCw12tUAZ/Mv10S7D" crossorigin="anonymous"></script>
</html>
